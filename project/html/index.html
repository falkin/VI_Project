<!DOCTYPE html>
<html lang="en">
	<head>
		<title>VI Project - Swiss Council Viewer</title>

		<meta charset="utf-8">

		<meta name="description" content="">
		<meta name="author" content="Valentin Bourqui, Didier Crausaz">
		<link href='http://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">

		<!-- Include JVectorMap style -->
		<link rel="stylesheet" href="../style/css/jquery-jvectormap-1.1.1.css" type="text/css" media="screen"/>

		<link rel="stylesheet" href="../style/css/general.css" type="text/css" media="screen"/>
	    <script src="../javascript/general/infoBulle.js"></script>

		<!-- Include jQuery library -->
		<script type="text/javascript" src="../javascript/lib/jquery-1.8.2.min.js"></script>
		<!-- Include JVectorMap library -->
		<script src="../javascript/lib/jquery-jvectormap-1.1.1.min.js"></script>
		<!-- Include JVectorMap swiss map data -->
		<script src="../javascript/lib/jquery-jvectormap-ch-merc-en.js"></script>

		<script type="text/javascript" src="../javascript/date.js"></script>
		<script type="text/javascript" src="../javascript/CouncilRequest.js"></script>
		<script type="text/javascript" src="../javascript/swisscouncil.js"></script>

		<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" />
		<script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
		<script>

jQuery.fn.resizehandle = function() {
  return this.each(function() {
    var me = jQuery(this);
    me.after(
       jQuery('<div class="resize"><div class="resizehandle"><div class="bt_resize" onmouseover="tooltip.show(\'Double clique \', 90);" onmouseout="tooltip.hide();"></div></div></div>')
      .bind('dblclick', function(e) {
        var h = me.width();
        var y = e.clientX+20;
      
        var bigSize = e.clientX+h-y;
        var initScale = $(".jvectormap-container").children("svg").children("g").attr("transform");
        initScale = initScale.substring(6,11);
      
        var moveHandler = function(e) {
          me.width(Math.max(500,   e.clientX+h-y ));

                    
          $(".jvectormap-container").children("svg").width(Math.max(20,   e.clientX+h-y ));
          $(".resize").css("marginLeft",Math.max(20,   e.clientX+h-y ));
          var a = $(".jvectormap-container").children("svg").children("g").attr("transform");
          var b = a;
		  a = a.substring(6,a.search("tran")-2);
		  var newValue =  ((e.clientX+h-(y+40))/bigSize)*initScale;
		  var b=b.replace(a,newValue); 
		   $(".jvectormap-container").children("svg").children("g").attr("transform",b);
      	  
        };
        var upHandler = function(e) {
          jQuery('html')
          .unbind('mouseup',upHandler)
          .unbind('mousemove', moveHandler);
          
        };
         jQuery('html').bind('mouseup',upHandler);
         jQuery('html').bind('mousemove', moveHandler);
        
       
      })
    );
  });
}


$(document).ready(function(){
  $(".btCover").click(function() {
  	if($('#footer').css("height") == "31px"){
  		$(".btCover").css("display","none");
	  	$(".btCover").css("margin-top","14px");
	  	$(".footerInner").css("display","none");
	  	$('#footer').animate({  height:"19px"},600, function() {
	     	$(".btCover").attr("onmouseover","tooltip.show('Montrer', 90);$('.btCover').css('background-image','url(\"../img/btshow_on.png\")');");
	   		$(".btCover").attr("onmouseout","tooltip.hide();$('.btCover').css('background-image','url(\"../img/btshow.png\")');");
	   		$(".btCover").css("background-image","url('../img/btshow.png')");
	   		$(".btCover").css("display","");
	  });
	
  	}
  	else{
  		$(".btCover").css("display","none");
  		$(".btCover").css("background-image","");
	    $(".btCover").css("margin-top","0px");
  		
	  	$('#footer').animate({  height:"31px"},600, function() {
			    $(".btCover").attr("onmouseover","tooltip.show('Cacher', 90);$('.btCover').css('background-image','url(\"../img/btcover_on.png\")');");
			    $(".btCover").attr("onmouseout","tooltip.hide();$('.btCover').css('background-image','url(\"../img/btcover.png\")');");
			    $(".btCover").css("background-image","url('../img/btcover.png')");
			    $(".btCover").css("display","");
			    $(".footerInner").css("display","");
	  		});

  	}
  });
  
    $(".btCover_header").click(function() {
  	if($('#header').css("height") == "300px"){
  		$(".btCover_header").css("display","none");
	  	$(".btCover_header").css("margin-top","14px");
	  	$('#header').animate({  height:"50px"},600, function() {
	     	$(".btCover_header").attr("onmouseover","tooltip.show('Montrer', 90);$('.btCover_header').css('background-image','url(\"../img/btshow_on.png\")');");
	   		$(".btCover_header").attr("onmouseout","tooltip.hide();$('.btCover_header').css('background-image','url(\"../img/btshow.png\")');");
	   		$(".btCover_header").css("background-image","url('../img/btshow.png')");
	   		$(".btCover_header").css("display","");
	  });
	
  	}
  	else{
  		$(".btCover_header").css("display","none");
  		$(".btCover_header").css("background-image","");
	    $(".btCover_header").css("margin-top","0px");
  		
	  	$('#header').animate({  height:"300px"},600, function() {
			    $(".btCover_header").attr("onmouseover","tooltip.show('Cacher', 90);$('.btCover_header').css('background-image','url(\"../img/btcover_on.png\")');");
			    $(".btCover_header").attr("onmouseout","tooltip.hide();$('.btCover_header').css('background-image','url(\"../img/btcover.png\")');");
			    $(".btCover_header").css("background-image","url('../img/btcover.png')");
			    $(".btCover_header").css("display","");
			   
	  		});

  	}
  });
  $("#map").resizehandle();
  $(".content").css("line-height","500px");
});
		</script>
	</head>
	<body>
		  <div id="header">
				   <div class="headerBack">
		            
		             	<div>
					<div id="choice">
						
						<label>Councils</label>
						<input type="checkbox"
						id = "BR"
						value = "small"
						checked = "checked"/>
						<label for = "sizeSmall">Federal Council</label>
	
						<input type="checkbox"
						id="CN"
						value="medium"
						checked="checked"/>
						<label for = "sizeMed">National Council</label>
	
						<input type="checkbox"
						id="CE"
						value = "large"
						checked = "checked"/>
						<label for = "sizeLarge">Council of States</label>
					</div>
	            </div>
	            
	            <div class="btCover_header" onmouseover="tooltip.show('Cacher', 90);$('.btCover_header').css('background-image','url(\'../img/btcover_on.png\')');" onmouseout="tooltip.hide();$('.btCover_header').css('background-image','url(\'../img/btcover.png\')');" ></div>	   	
						
				 </div>
			  </div>
		<div class="innerBoder">
				
			
		  
			
	            <div class="content">
					<div id="map"></div>
					
				</div>
			
			


			<div id="footer">
			   <div class="footerBack">
	             	<div class="btCover" onmouseover="tooltip.show('Cacher', 90);$('.btCover').css('background-image','url(\'../img/btcover_on.png\')');" onmouseout="tooltip.hide();$('.btCover').css('background-image','url(\'../img/btcover.png\')');" ></div>	   	
				   <div class="footerInner">
			
						<span class="bar" style="margin-left: 29px;">Le parlement et son histoire </span> 
						<span class="bar">&copy; Tous droits réservés&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> 
						<span class="bar">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Par Valentin Bourqui et Didier Crausaz</span>
						
						<span class="barSpace">VI Project 2012</span>
				  </div>
			 </div>
		  </div>
	</div>
	</body>
</html>
